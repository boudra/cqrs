box: golang
build:
  steps:
    # Sets the go workspace and places you package
    # at the right place in the workspace tree
    - setup-go-workspace

      # Gets the dependencies
    - script:
      name: go get
      code: |
        go get

        # Build the project
    - script:
      name: go build
      code: |
        go build ./...

        # Test the project
    - script:
      name: go test
      code: |
        go test ./...

    - script:
      name: Coveralls.io
      code: |-
        go get github.com/mattn/goveralls
        goveralls -package="./..." -service='wercker.com' $COVERALLS_TOKEN
